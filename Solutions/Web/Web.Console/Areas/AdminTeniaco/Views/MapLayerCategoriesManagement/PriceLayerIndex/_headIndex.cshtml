@using VM.Public;
@using VM.Teniaco;
@using Newtonsoft.Json;

<script type="text/javascript">
    @{
        List<PropertyTypesVM> propertyTypesList = new List<PropertyTypesVM>();

        @Html.Raw("var propertyTypesList = [];")
        ;

        if (ViewData["PropertyTypesList"] != null)
        {
            propertyTypesList = (List<PropertyTypesVM>)ViewData["PropertyTypesList"];

            var propertyTypesListData = propertyTypesList.Select(c =>
            new
            {
                DisplayText = $"{c.PropertyTypeTilte}",
                Value = c.PropertyTypeId
            });

            @Html.Raw("debugger; propertyTypesList = " +
                JsonConvert.DeserializeObject(JsonConvert.SerializeObject(propertyTypesListData)) + "; debugger;")
            ;
        }
    }
</script>

<script type="text/javascript">
    @{
        List<TypeOfUsesVM> typeOfUsesList = new List<TypeOfUsesVM>();

        @Html.Raw("var typeOfUsesList = [];")
        ;

        if (ViewData["TypeOfUsesList"] != null)
        {
            typeOfUsesList = (List<TypeOfUsesVM>)ViewData["TypeOfUsesList"];

            var typeOfUsesListData = typeOfUsesList.Select(c =>
            new
            {
                DisplayText = $"{c.TypeOfUseTitle}",
                Value = c.TypeOfUseId
            });

            @Html.Raw("debugger; typeOfUsesList = " +
                JsonConvert.DeserializeObject(JsonConvert.SerializeObject(typeOfUsesListData)) + "; debugger;")
            ;
        }
    }
</script>

<script type="text/javascript">
    @{
        List<StatesVM> statesList = new List<StatesVM>();

        @Html.Raw("var statesList = [];")
        ;

        if (ViewData["StatesList"] != null)
        {
            statesList = (List<StatesVM>)ViewData["StatesList"];

            var statesListData = statesList.Select(c =>
            new
            {
                DisplayText = $"{c.StateName}",
                Value = c.StateId
            });

            @Html.Raw(" statesList = " +
                JsonConvert.DeserializeObject(JsonConvert.SerializeObject(statesListData)) + "; ")
            ;
        }
    }
</script>

<script type="text/javascript">
    @{
        List<CitiesVM> citiesList = new List<CitiesVM>();

        @Html.Raw("var citiesList = [];")
        ;

        if (ViewData["CitiesList"] != null)
        {
            citiesList = (List<CitiesVM>)ViewData["CitiesList"];

            var citiesListData = citiesList.Select(c =>
            new
            {
                DisplayText = $"{c.CityName}",
                Value = c.CityId,
                Data_StateId = c.StateId
            });

            @Html.Raw(" citiesList = " +
                JsonConvert.DeserializeObject(JsonConvert.SerializeObject(citiesListData)) + "; ")
            ;
        }
    }
</script>

<script type="text/javascript">
    @{
        List<ZonesVM> zonesList = new List<ZonesVM>();

        @Html.Raw("var zonesList = [];")
        ;

        if (ViewData["ZonesList"] != null)
        {
            zonesList = (List<ZonesVM>)ViewData["ZonesList"];

            var zonesListData = zonesList.Select(z =>
            new
            {
                DisplayText = $"{z.ZoneName}",
                Value = z.ZoneId,
                Data_CityId = z.CityId
            });

            @Html.Raw(" zonesList = " +
    JsonConvert.DeserializeObject(JsonConvert.SerializeObject(zonesListData)) + "; ")
            ;
        }
    }
</script>
<script type="text/javascript">
    @{
        List<DistrictsVM> districtsList = new List<DistrictsVM>();

        @Html.Raw("var districtsList = [];")
        ;

        if (ViewData["DistrictsList"] != null)
        {
            districtsList = (List<DistrictsVM>)ViewData["DistrictsList"];

            var districtsListData = districtsList.Select(z =>
           new
           {
               DisplayText = $"{z.DistrictName}",
               Value = z.DistrictId,
               Data_ZoneId = z.ZoneId
           });


            @Html.Raw(" districtsList = " +
    JsonConvert.DeserializeObject(JsonConvert.SerializeObject(districtsListData)) + "; ")
            ;
        }
    }
</script>

<link href="~/lib/openlayers-v6.9.0/css/ol.css" rel="stylesheet" />
<script src="~/lib/openlayers-v6.9.0/build/ol.js"></script>

<style type="text/css">

    #mapContainer {
        height: 700px;
        overflow: hidden;
        width: 100%;
    }

        #mapContainer .ol-viewport {
            height: 700px !important;
        }

</style>