@using VM.Public;
@using VM.Teniaco;
@using Newtonsoft.Json;

<script type="text/javascript">
    @{
        MyPropertiesVM propertiesVM = new MyPropertiesVM();

        @Html.Raw("var propertiesVM;")
        ;

        if (ViewData["MyPropertiesVM"] != null)
        {
            propertiesVM = ViewData["MyPropertiesVM"] as MyPropertiesVM;

            @Html.Raw(" propertiesVM = " +
        JsonConvert.DeserializeObject(JsonConvert.SerializeObject(propertiesVM)) + "; ")
            ;
        }
    }
</script>
<script type="text/javascript">
    @{
        List<StatesVM> statesList = new List<StatesVM>();
        @Html.Raw("var statesList=[];")
        ;

        if (ViewData["StatesList"] != null)
        {
            statesList = (List<StatesVM>)ViewData["StatesList"];

            //var statesListData = statesList.Select(s =>
            //new
            //{
            //    DisplayText = $"{s.StateName}",
            //    Value = s.StateId
            //});

            @Html.Raw(" statesList =" +JsonConvert.DeserializeObject(JsonConvert.SerializeObject(statesList)) +" ;")
            ;
        }

    }
</script>

<script type="text/javascript">
    @{
        List<CitiesVM> citiesList = new List<CitiesVM>();
        @Html.Raw("var citiesList=[];")
        ;

        if (ViewData["CitiesList"] != null)
        {
            citiesList = (List<CitiesVM>)ViewData["CitiesList"];

            //var citiesListData = citiesList.Select(c =>
            //new
            //{
            //    DisplayText = $"{c.CityName}",
            //    Value = c.CityId,
            //    Data_StateId = c.StateId
            //});

            @Html.Raw(" citiesList = " +
    JsonConvert.DeserializeObject(JsonConvert.SerializeObject(citiesList)) + "; ")
            ;
        }
    }
</script>

<script type="text/javascript">
    @{
        List<ZonesVM> zonesList = new List<ZonesVM>();

        @Html.Raw("var zonesList = [];")
        ;

        if (ViewData["ZonesList"] != null)
        {
            zonesList = (List<ZonesVM>)ViewData["ZonesList"];

            var zonesListData = zonesList.Select(c =>
            new
            {
                DisplayText = $"{c.ZoneName }",
                Value = c.ZoneId,
                Data_CityId = c.CityId
            });

            @Html.Raw(" zonesList = " +
    JsonConvert.DeserializeObject(JsonConvert.SerializeObject(zonesList)) + "; ")
            ;
        }
    }
</script>

<script type="text/javascript">
    @{
        List<DistrictsVM> districtsList = new List<DistrictsVM>();

        @Html.Raw("var districtsList = [];")
        ;

        if (ViewData["DistrictsList"] != null)
        {
            districtsList = (List<DistrictsVM>)ViewData["DistrictsList"];
    

            var districtsListData = districtsList.Select(c =>
            new
            {
                
                //DisplayText = $"{c.DistrictName}",
                DisplayText = (c.DistrictName != null) ? $"{c.DistrictName}" : c.VillageName != null  ? $"{c.VillageName}" : $"{c.TownName}",
                Value = c.DistrictId,
                Data_ZoneId = c.ZoneId
            });

            @Html.Raw(" districtsList = " +
    JsonConvert.DeserializeObject(JsonConvert.SerializeObject(districtsList)) + "; ")
            ;
        }
    }
</script>

@*<link href="~/lib/openlayers-v7.0.0-site/en/latest/legacy/ol.css" rel="stylesheet" />
    <script src="~/lib/openlayers-v7.0.0-site/en/latest/legacy/ol.js"></script>*@

<link href="~/lib/openlayers-v6.9.0/css/ol.css" rel="stylesheet" />
<script src="~/lib/openlayers-v6.9.0/build/ol.js"></script>

<style type="text/css">
    #mapContainer {
        height: 700px;
        overflow: hidden;
        width: 100%;
    }

        #mapContainer .ol-viewport {
            height: 700px !important;
        }

    #mapLeft,
    #mapRight {
        height: 700px;
        overflow: hidden;
        /*width: 100%;*/
    }

    #mapLeft {
        float: left;
    }

    #mapRight {
        float: right;
    }
</style>