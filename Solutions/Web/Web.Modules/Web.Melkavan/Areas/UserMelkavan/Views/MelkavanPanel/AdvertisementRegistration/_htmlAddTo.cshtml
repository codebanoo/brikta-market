@using VM.Melkavan;

@model AdvertisementVM

@{
    AdvertisementFeaturesValuesVM advertisementFeaturesValuesVM = new AdvertisementFeaturesValuesVM();

    if (ViewData["AdvertisementFeaturesValuesVM"] != null)
    {
        advertisementFeaturesValuesVM = ViewData["AdvertisementFeaturesValuesVM"] as AdvertisementFeaturesValuesVM;
    }

}


<div class="d-flex align-items-center justify-content-between mb-auto p-3 osahan-header bg-white shadow-sm osahan-header" style="position: fixed; z-index: 2; width: 100%;">

    <h6 class="mb-0 ms-3 me-auto fw-bold">ثبت آگهی  </h6>
    <a id="backButton" class="text-dark bg-white shadow rounded-circle icon">
        <span class="mdi mdi-arrow-left mdi-18px"></span>
    </a>
</div>

<div style=" padding-bottom: 4rem!important;padding-top: 4.5rem!important;" class="p-3">
    <form method="post">
        @Html.AntiForgeryToken()
        @Html.ValidationSummary()

        <div class="bg-white rounded-4 p-3 border">
            <div class="mb-3">
                <label class="form-label mb-1 titles  text-muted">نوع آگهی</label>
                <div class="input-group border bg-white rounded-3 py-1">
                    <label class="input-group-text bg-transparent rounded-0 border-0"><span class="mdi mdi-city-variant-outline mdi-18px"></span></label>
                    <select class="form-select bg-transparent rounded-0 border-0 px-3" id="slcAdvertisementTypeId" asp-for="AdvertisementDetailsVM.AdvertisementTypeId">
                        <option value="" selected></option>
                    </select>
                </div>
            </div>
        </div>

        <div class="bg-white rounded-4 p-3 border d-none mt-2" id="adInfo1">
            <div class="mb-3">
                <label class="form-label mb-1 titles text-muted">نوع ملک</label>
                <span style="color:red">*</span>
                <div class="input-group border bg-white rounded-3 py-1">
                    <label class="input-group-text bg-transparent rounded-0 border-0"><span class="mdi mdi-city-variant-outline mdi-18px"></span></label>
                    <select class="form-select bg-transparent rounded-0 border-0 px-3" id="slcPropertyTypeId" asp-for="PropertyTypeId">
                        <option value="" selected disabled></option>
                    </select>
                </div>
            </div>
            <div class="mb-3">
                <label class="form-label mb-1 titles text-muted">نوع کاربری</label>
                <span style="color:red">*</span>
                <div class="input-group border bg-white rounded-3 py-1">
                    <label class="input-group-text bg-transparent rounded-0 border-0"><span class="mdi mdi-city-variant-outline mdi-18px"></span></label>
                    <select class="form-select bg-transparent rounded-0 border-0 px-3" id="slcTypeOfUseId" asp-for="TypeOfUseId">
                        <option value="" selected disabled></option>
                    </select>
                </div>
            </div>
        </div>

        <div class="bg-white rounded-4 p-3 border d-none mt-2" id="adInfo2">
            <div class="mb-3">
                <label for="exampleFormControlName" class="form-label mb-1 titles text-muted">عنوان آگهی</label>
                <span style="color:red">*</span>
                <div class="input-group border bg-white rounded-3 py-1">
                    <span class="input-group-text bg-transparent rounded-0 border-0">
                        <span class="mdi mdi-subtitles-outline mdi-18px"></span>
                    </span>
                    <input class="form-control bg-transparent rounded-0 border-0 px-0" placeholder="متن اصلی آگهی" asp-for="AdvertisementTitle" id="AdvertisementTitle" />
                    <span class="text-danger" asp-validation-for="AdvertisementTitle"></span>
                </div>
            </div>
        </div>
        <div class="bg-white rounded-4 p-3 border d-none mt-2" id="adInfoAddress">
            <div class="mb-3">
                <label class="form-label mb-1 titles text-muted">استان</label>
                <span style="color:red">*</span>
                <div class="input-group border bg-white rounded-3 py-1">
                    <label class="input-group-text bg-transparent rounded-0 border-0"><span class="mdi mdi-city-variant-outline mdi-18px"></span></label>

                    <select class="form-select bg-transparent rounded-0 border-0 px-3" id="slcStateId" asp-for="AdvertisementAddressVM.StateId">
                        <option value="" selected disabled></option>
                    </select>

                </div>
            </div>
            <div class="mb-3">
                <label class="form-label mb-1 titles text-muted">شهرستان</label>
                <span style="color:red">*</span>
                <div class="input-group border bg-white rounded-3 py-1">
                    <label class="input-group-text bg-transparent rounded-0 border-0"><span class="mdi mdi-city-variant-outline mdi-18px"></span></label>
                    <select class="form-select bg-transparent rounded-0 border-0 px-3" id="slcCityId" asp-for="AdvertisementAddressVM.CityId">
                        <option value="" selected disabled></option>
                    </select>
                </div>
            </div>
            <div class="mb-3">
                <label class="form-label mb-1 titles text-muted">شهر/منطقه</label>
                <div class="input-group border bg-white rounded-3 py-1">
                    <label class="input-group-text bg-transparent rounded-0 border-0"><span class="mdi mdi-city-variant-outline mdi-18px"></span></label>
                    <select class="form-select bg-transparent rounded-0 border-0 px-3" id="slcZoneId" asp-for="AdvertisementAddressVM.ZoneId">
                        <option value="" selected disabled></option>
                    </select>
                </div>
            </div>
            <div class="mb-3">
                <label for="exampleFormControlName" class="form-label mb-1 titles text-muted">نام محله</label>
                <div class="input-group border bg-white rounded-3 py-1">
                    <span class="input-group-text bg-transparent rounded-0 border-0">
                        <span class="mdi mdi-subtitles-outline mdi-18px"></span>
                    </span>
                    <input class="form-control bg-transparent rounded-0 border-0 px-0" placeholder="لطفا نام محله را وارد کنید" asp-for="AdvertisementAddressVM.TownName" id="TownName" />
                    <span class="text-danger" asp-validation-for="AdvertisementAddressVM.TownName"></span>
                </div>
            </div>
            <div class="mb-3">
                @*<label for="exampleFormControlName" class="form-label mb-1 titles text-muted">لوکیشن</label>*@
                <div id="mapLeft" class="" style="height:200px !important; width: 100% !important;"></div>
            </div>
        </div>



        <div class="bg-white rounded-4 p-3 border d-none mt-2" id="adInfo3">
            <div class="mb-3">
                <label for="exampleFormControlName" class="form-label mb-1 titles text-muted">مساحت</label>
                <span style="color:red">*</span>
                <div class="input-group border bg-white rounded-3 py-1">
                    <span class="input-group-text bg-transparent rounded-0 border-0">
                        <span class="mdi mdi-subtitles-outline mdi-18px"></span>
                    </span>
                    <input class="form-control bg-transparent rounded-0 border-0 px-0" placeholder="لطفا مساحت را وارد کنید" id="Area" asp-for="Area" type="text" />
                    <span class="m-2">متر مربع</span>
                    <span class="text-danger" asp-validation-for="Area"></span>
                </div>
            </div>

            <div class="mb-3">
                <label for="exampleFormControlName" class="form-label mb-1 titles text-muted">زیر بنا</label>
                <div class="input-group border bg-white rounded-3 py-1">
                    <span class="input-group-text bg-transparent rounded-0 border-0">
                        <span class="mdi mdi-subtitles-outline mdi-18px"></span>
                    </span>
                    <input class="form-control bg-transparent rounded-0 border-0 px-0" placeholder="لطفا زیر بنا را وارد کنید" asp-for="AdvertisementDetailsVM.Foundation" id="Foundation" type="text" />
                    <span class="m-2">متر مربع</span>
                    <span class="text-danger" asp-validation-for="AdvertisementDetailsVM.Foundation"></span>
                </div>
            </div>


        </div>

        <div class="bg-white rounded-4 p-3 border d-none mt-2" id="RentadInfo4">
            <div class="mb-3">
                <label for="exampleFormControlName" class="form-label mb-1 titles text-muted">قیمت اجاره</label>
                <span style="color:red">*</span>
                <div class="input-group border bg-white rounded-3 py-1">
                    <span class="input-group-text bg-transparent rounded-0 border-0">
                        <span class="mdi mdi-subtitles-outline mdi-18px"></span>
                    </span>
                    <input class="form-control bg-transparent rounded-0 border-0 px-0" placeholder="لطفا قیمت اجاره را وارد کنید" @*asp-for="AdvertisementPricesHistoriesVM.RentPrice"*@ type="text" id="RentPrice" />
                    <span class="resultOfRentPrice" asp-validation-for="RentPrice" id="resultOfRentPrice" style="margin-top: 1.5rem;margin-left: 5px"></span>

                </div>
            </div>
            <div class="mb-3">
                <label for="exampleFormControlName" class="form-label mb-1 titles text-muted">قیمت ودیعه</label>
                <span style="color:red">*</span>
                <div class="input-group border bg-white rounded-3 py-1">
                    <span class="input-group-text bg-transparent rounded-0 border-0">
                        <span class="mdi mdi-subtitles-outline mdi-18px"></span>
                    </span>
                    <input class="form-control bg-transparent rounded-0 border-0 px-0" placeholder="لطفا قیمت ودیعه را وارد کنید" @*asp-for="AdvertisementPricesHistoriesVM.DepositPrice" *@type="text" id="DepositPrice" />
                    <span class="resultOfDepositPrice" asp-validation-for="DepositPrice" id="resultOfDepositPrice" style="margin-top: 1.5rem;margin-left: 5px"></span>
                </div>
            </div>


            <div class="mb-3">
                <label class="form-label mb-1 titles text-muted">وضعیت تاهل</label>
                <div class="input-group border bg-white rounded-3 py-1">
                    <label class="input-group-text bg-transparent rounded-0 border-0"><span class="mdi mdi-city-variant-outline mdi-18px"></span></label>
                    <select class="form-select bg-transparent rounded-0 border-0 px-3" id="slcMaritalStatusId" asp-for="AdvertisementDetailsVM.MaritalStatusId">
                        <option value="0">هردو</option>
                        <option value="1">متاهل</option>
                        <option value="2">مجرد</option>
                    </select>
                </div>
            </div>
            <div class="mb-3">
                <div class="form-check">
                    <input class="form-check-input ms-3" type="checkbox" name="Convertable" id="Convertable" asp-for="AdvertisementDetailsVM.Convertable" value="0">
                    <label class="form-check-label titles text-muted" for="Convertable">
                        قابل تبدیل
                    </label>
                </div>
            </div>
        </div>

        <div class="bg-white rounded-4 p-3 border d-none mt-2" id="SaleadInfo5">

            @*<div class="mb-3">
            <label class="form-label mb-1 titles">نوع قیمت</label>
            <div class="input-group border bg-white rounded-3 py-1">
            <label class="input-group-text bg-transparent rounded-0 border-0"><span class="mdi mdi-city-variant-outline mdi-18px"></span></label>
            <select class="form-select bg-transparent rounded-0 border-0 px-3" asp-for="OfferPriceType" id="OfferPriceType">
            <option value="0">متری بر مبنای میلیون</option>
            <option value="1">کل بر مبنای میلیارد</option>
            </select>
            </div>
            </div>*@
            <div class="mb-3">
                <label for="exampleFormControlName" class="form-label mb-1 titles text-muted">قیمت</label>
                <div class="input-group border bg-white rounded-3 py-1">
                    <span class="input-group-text bg-transparent rounded-0 border-0">
                        <span class="mdi mdi-subtitles-outline mdi-18px"></span>
                    </span>
                    <input class="form-control bg-transparent rounded-0 border-0 px-0" placeholder="لطفا قیمت پیشنهادی را وارد کنید" type="text" id="OfferPrice" @*asp-for="OfferPrice"*@ />
                    <span class="resultOfOfferPrice" asp-validation-for="OfferPrice" id="resultOfOfferPrice"></span>
                </div>
            </div>

            @*         <div class="mb-3">
            <label class="form-label mb-1 titles text-muted">نوع قیمت</label>
            <div class="input-group border bg-white rounded-3 py-1">
            <label class="input-group-text bg-transparent rounded-0 border-0"><span class="mdi mdi-city-variant-outline mdi-18px"></span></label>
            <select class="form-select bg-transparent rounded-0 border-0 px-3" id="OfferPriceType" asp-for="AdvertisementPricesHistoriesVM.OfferPriceType">
            <option value="0">متری بر مبنای میلیون تومان</option>
            <option value="1">کل بر مبنای میلیارد تومان</option>

            </select>
            </div>
            </div> *@

            @*
            <div class="mb-3">
            <label for="exampleFormControlName" class="form-label mb-1 titles">قیمت محاسبه شده</label>
            <div class="input-group border bg-white rounded-3 py-1 calculatedPrice">
            <span class="input-group-text bg-transparent rounded-0 border-0">
            <span class="mdi mdi-subtitles-outline mdi-18px"></span>
            </span>
            <input class="form-control bg-transparent rounded-0 border-0 px-0 " placeholder="قیمت محاسبه شده " readonly asp-for="AdvertisementPricesHistoriesVM.CalculatedOfferPrice" id="CalculatedOfferPrice" />
            <span class="text-danger" asp-validation-for="AdvertisementPricesHistoriesVM.CalculatedOfferPrice"></span>
            </div>
            </div> *@
        </div>

        <div class="bg-white rounded-4 p-3 border d-none mt-2" id="adInfo10">
            @*            <div class="mb-3">
            <label for="exampleFormControlName" class="form-label mb-1 titles text-muted">سال ساخت</label>
            <div class="input-group border bg-white rounded-3 py-1">
            <span class="input-group-text bg-transparent rounded-0 border-0">
            <span class="mdi mdi-subtitles-outline mdi-18px"></span>
            </span>
            <input class="form-control bg-transparent rounded-0 border-0 px-0" type="number" placeholder="لطفا سال ساخت را وارد کنید" asp-for="BuiltInYearFa" id="BuiltInYearFa" />
            <span class="text-danger" asp-validation-for="BuiltInYearFa"></span>
            </div>
            </div>*@
            <div class="mb-3">
                <label class="form-label mb-1 titles text-muted">عمر بنا</label>
                <div class="input-group border bg-white rounded-3 py-1">
                    <label class="input-group-text bg-transparent rounded-0 border-0"><span class="mdi mdi-city-variant-outline mdi-18px"></span></label>
                    <select class="form-select bg-transparent rounded-0 border-0 px-3" id="slcBuildingLifeId" asp-for="AdvertisementDetailsVM.BuildingLifeId">
                        <option value="" selected></option>
                    </select>
                </div>
            </div>

            <div class="mb-3">
                <label for="exampleFormControlName" class="form-label mb-1 titles text-muted">سال بازسازی</label>
                <div class="input-group border bg-white rounded-3 py-1">
                    <span class="input-group-text bg-transparent rounded-0 border-0">
                        <span class="mdi mdi-subtitles-outline mdi-18px"></span>
                    </span>
                    <input class="form-control bg-transparent rounded-0 border-0 px-0" type="text" placeholder="لطفا سال بازسازی را وارد کنید"
                           asp-for="RebuiltInYearFa" id="RebuiltInYearFa" min="1300" pattern="\d*" maxlength="4" />
                    <span class="text-danger" asp-validation-for="RebuiltInYearFa"></span>
                    <span class="RebuiltInYearFa text-danger"></span>
                </div>
            </div>
        </div>

        <div class="bg-white rounded-4 border-primary-dotted py-3 ps-3 upload-file mb-3 pe-3 d-none mt-2" id="adInfo7" style="padding-bottom:0px !important;">
            <div class="mb-3">
                <label style="margin-bottom: 1rem;color:gray;">آگهی‌های دارای عکس تا «4 برابر» بیشتر توسط کاربران دیده می‌شوند.</label>
                @*<label for="exampleFormControlName" class="form-label mb-1 titles">فایل عکس</label>*@
                <div class="box">

                    <div id="dz-main" class="drop-zone">
                        <label class="form-label mb-1 titles" style="color: gray;" id="mainImage">عکس اصلی</label>
                        <span class="mdi mdi-image-plus footer-bottom-nav-span-mdi" style="font-size:5rem;color: gray;" id="drop-zone__prompt"></span>
                        <input accept=".png, .jpg, .jpeg, .webp" type="file" name="myFile" class="main-Image" id="main-img-input">
                        <span class="text-danger"></span>
                    </div>
                    <div class="upload__box">
                        <label class="form-label mb-1 titles" style="color: gray;">عکس فرعی</label>
                        <label class="upload__btn">
                            @*<p class="addMultipleImage">+</p>*@
                            <span class="mdi mdi-image-plus footer-bottom-nav-span-mdi" style="font-size:5rem;color: gray;" id="addMultipleImage"></span>
                        </label>



                        <input type="file" multiple data-max_length="9" id="other-Images">
                        <span class="text-danger"></span>

                    </div>

                </div>
                <div class="upload__img-wrap" style="margin-top:2rem;"></div>

            </div>

        </div>



        <div class="row">
            <div id="largeImagePreview" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.8); z-index: 1000;">
                <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 100%; height: 100%; background-size: contain; background-repeat: no-repeat; background-position: center;" id="largeImageContainer"></div>
            </div>
        </div>


        <div class="bg-white rounded-4 p-3 border d-none mt-2" id="adInfo8">
            <div class="mb-3">
                <label class="form-label mb-1 titles text-muted">نوع سند</label>
                <span style="color:red">*</span>
                <div class="input-group border bg-white rounded-3 py-1">
                    <label class="input-group-text bg-transparent rounded-0 border-0"><span class="mdi mdi-city-variant-outline mdi-18px"></span></label>
                    <select class="form-select bg-transparent rounded-0 border-0 px-3" id="slcDocumentTypeId" asp-for="DocumentTypeId">
                        <option value="" selected disabled></option>
                    </select>
                </div>
            </div>
            <div class="mb-3">
                <label class="form-label mb-1 titles text-muted">نوع ریشه سند</label>
                <span style="color:red">*</span>
                <div class="input-group border bg-white rounded-3 py-1">
                    <label class="input-group-text bg-transparent rounded-0 border-0"><span class="mdi mdi-city-variant-outline mdi-18px"></span></label>
                    <select class="form-select bg-transparent rounded-0 border-0 px-3" id="slcDocumentRootTypeId" asp-for="DocumentRootTypeId">
                        <option value="" selected disabled></option>
                    </select>
                </div>
            </div>
            <div class="mb-3">
                <label class="form-label mb-1 titles text-muted">نوع مالکیت سند</label>
                <span style="color:red">*</span>
                <div class="input-group border bg-white rounded-3 py-1">
                    <label class="input-group-text bg-transparent rounded-0 border-0"><span class="mdi mdi-city-variant-outline mdi-18px"></span></label>
                    <select class="form-select bg-transparent rounded-0 border-0 px-3" id="slcDocumentOwnershipTypeId" asp-for="DocumentOwnershipTypeId">
                        <option value="" selected disabled></option>
                    </select>
                </div>
            </div>

        </div>

        <div class="bg-white rounded-4 p-3 border d-none mt-2" id="adInfo9">

            <div class="mb-3">
                <label for="exampleFormControlNumber" class="form-label mb-1 titles text-muted"> برچسب آگهی</label>
                <div class="input-group border bg-white rounded-3 py-1">
                    <select multiple class="form-select bg-transparent rounded-0 border-0 px-3" id="slcTagId" asp-for="AdvertisementDetailsVM.TagId">
                        <option value="" selected disabled></option>
                    </select>
                </div>
            </div>


            <div class="mb-3">
                <label for="exampleFormControlNumber" class="form-label mb-1 titles text-muted"> توضیحات</label>
                <div class="input-group border bg-white rounded-3 py-1">
                    <textarea type="text" class="form-control bg-transparent rounded-0 border-0 px-2" rows="5" id="AdvertisementDescriptions"
                              placeholder="لطفا توضیحات را وارد کنید" asp-for="AdvertisementDescriptions"></textarea>
                </div>
            </div>

            <div class="mb-3">
                <label for="exampleFormControlName" class="form-label mb-1 titles text-muted">لینک اینستاگرام</label>
                <div class="input-group border bg-white rounded-3 py-1">
                    <span class="input-group-text bg-transparent rounded-0 border-0">
                        <span class="mdi mdi-link mdi-18px"></span>
                    </span>
                    <input class="form-control bg-transparent rounded-0 border-0 px-0" placeholder="لطفا لینک اینستاگرام را وارد کنید" asp-for="AdvertisementDetailsVM.InstagramLink" id="InstagramLink" />
                </div>
            </div>
        </div>


        <div class="d-none" id="adOptions">

        </div>

        <div class=" d-none p-3 " id="saveButton">
            <button type="button" id="saveButton" class="btn btn-info btn-lg w-100 rounded-4 btnSave"> ذخیره</button>
        </div>

    </form>
</div>




<div class="footer mt-auto  pt-1 fix-osahan-footer" style="position: fixed;">
    <div class="mx-1 my-1 d-flex align-items-center justify-content-between rounded-4 shadow overflow-hidden bottom-nav-main">
        <a id="melkavan-icon" class="col footer-bottom-nav">
            <span class="mdi mdi-home-variant-outline mdi-24px footer-bottom-nav-span-mdi"></span>
            <span>ملکاوان</span>
        </a>
        @if (User.Identity.IsAuthenticated)
        {
            <a asp-action="AdvertisementRegistration" class="col footer-bottom-nav active">
                <span class="mdi mdi-application-edit-outline mdi-24px footer-bottom-nav-span-mdi"></span>
                <span>ثبت</span>
            </a>
            <a id="chat-icon" class="col footer-bottom-nav">
                <span class="mdi md mdi-message-processing-outline mdi-24px footer-bottom-nav-span-mdi"></span>
                <span>چت</span>
            </a>
            <a asp-action="MelkavanProfile" class="col footer-bottom-nav">
                <span class="mdi mdi-account-outline mdi-24px footer-bottom-nav-span-mdi"></span>
                <span>پروفایل</span>
            </a>
        }
        else
        {
            <button type="button" style="background-color: transparent;" id="openSignin" class="col footer-bottom-nav border-0  active"
                    data-bs-toggle="modal" data-bs-target="#loginModal">
                <span class="mdi   mdi-application-edit-outline mdi-24px footer-bottom-nav-span-mdi"></span>
                <span>ثبت</span>
            </button>
            <button type="button" style="background-color: transparent;" id="openSignin" class="col footer-bottom-nav border-0 "
                    data-bs-toggle="modal" data-bs-target="#loginModal">
                <span class="mdi  mdi-message-processing-outline mdi-24px footer-bottom-nav-span-mdi"></span>
                <span>چت</span>
            </button>
            <button type="button" style="background-color: transparent;" id="openSignin" class="col footer-bottom-nav border-0 "
                    data-bs-toggle="modal" data-bs-target="#loginModal">
                <span class="mdi  mdi-account-key-outline mdi-24px footer-bottom-nav-span-mdi"></span>
                <span>ورود</span>
            </button>
        }

    </div>
</div>


